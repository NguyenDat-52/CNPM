@model IEnumerable<QuanLyKhachSan.Models.PHONG>
@{
    ViewBag.Title = "Quản Lý Phòng";
}

<div class="container py-4">
    <div class="d-flex justify-content-between mb-4">
        <h3 class="fw-bold">Danh Sách Phòng</h3>
        <a href="@Url.Action("CreateRoom")" class="btn btn-primary"><i class="fas fa-plus"></i> Thêm Phòng Mới</a>
    </div>

    <div class="card shadow-sm">
        <table class="table table-hover align-middle mb-0">
            <thead class="bg-light">
                <tr>
                    <th>Mã Phòng</th>
                    <th>Tên Phòng</th>
                    <th>Loại</th>
                    <th>Giá</th>
                    <th>Trạng Thái</th>
                    <th>Thao tác</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.MA_PHONG</td>
                        <td>@item.TEN_PHONG</td>
                        <td>@item.LOAI_PHONG.TEN_LOAI</td>
                        <td>@((item.LOAI_PHONG.GIA_MOT_DEM ?? 0).ToString("#,##0"))</td>
                        <td>
                            @if(item.TRANG_THAI == "TRỐNG") { <span class="badge bg-success">TRỐNG</span> }
                            else { <span class="badge bg-danger">@item.TRANG_THAI</span> }
                        </td>
                        <td>
                            <a href="@Url.Action("EditRoom", new { id = item.MA_PHONG })" class="btn btn-sm btn-outline-primary">Sửa</a>
                            <a href="@Url.Action("DeleteRoom", new { id = item.MA_PHONG })" class="btn btn-sm btn-outline-danger" onclick="return confirm('Bạn chắc chắn muốn xóa?');">Xóa</a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>
